### 简述虚电路交换和数据报交换的差别
虚电路在网络上提供顺序控制，差错控制，流量控制等功能，向端系统提供无差错的数据服务，而端系统实现比较简单,
数据报交换网络，在网络层则实现则比较简单，只实现基本的路由和转发功能 端系统上实现顺序控制，差错控制，流量控制等功能.

---

### 简述数据链路层提供的主要服务
- 组帧，将要传输的数据封装成帧
- 链路接入，协调各个节点通过共享的物理媒介或独占的**通信链路通道**实现帧的成功传输
- 可靠交付，即在相邻节点经数据链路实现数据报的可靠传输
- 差错控制，解决数据链路层帧在物理媒介上的传过程中产生的比特翻转差错

---

### 应用题1 
## 设某网页地址为URL ：“http://www.abc.com” 且该url 对应的IP 地址在您的计算机上没缓存，文件index.html 引用了8个小图片，在域名解析过程中，无等待的一次DNS 请求解析时间与响应的时间为RTTd，HTTP 请求传输web 对象的过程一次往返时间记为RTTh。

(1)**该 Url 中的域名为：**
~~~答案
 www.abc.com
~~~
(2) **浏览器解析到该url 对应的IP 地址最短时间和最长时间**
~~~解答
RTTd,4RTTd
~~~
(3)**若没有配置并行的TCP链接，基于HTTP1.0 获取该web 页的完成内容（包括图片）所需要的时间**
~~~ 解答
18 RTTh   
一次建立TCP 连接的时间，8次获取图片的时间，总共9次

8次建立 TCP 连接的时间, 8 次请求的时间 
1 次建立 TCP 连接的时间，1次 请求 index.html 

总共18

2*9 = 18RTTh
~~~

(4)**若浏览器配置5个并行的TCP 连接，则基于非流水方式的HTTP1.1 获取该web 页面 完整内容需要的时间所需要的时间**

~~~ 解答
6RTTh
因为一次请求并行5个连接，所以只需建立2次TCP 连接，和2次请求 可以请求全部8张图片
1 次建立 TCP 连接的时间，1次 请求 index.html 
总共 2+2+2=6 
~~~

(5) **若没有配置并行的TCP连接，则基于非流水 获取的时间，基于流水获取的时间**


10RTTh，3RTTh

**持久连接 分为 非流水连接，流水方式的连接**

- 非流水连接：
  建立连接后，请求一次，收到前一次的响应，再发第二次请求。

1 次建立 TCP 连接的时间，1次 请求 index.html 
但是不需求再建立TCP 连接，8次请求图片的时间

总共10


- 流水方式连接：

请求图片时，无需等待前一个请求的响应，连续发送后面的请求，
然后一次接收

**请求图片只有一次**

1 次建立 TCP 连接的时间，1次 请求 index.html 
一次请求8张图片

1+1+1=3 

填空题
---
**已知TCP报文段的首部长度字段的值为15，则表示TCP报文段的首部和选项字段的最大长度分别为:**

~~~ 答案
60 和 40 字节
~~~

### 解答题

**简述UDP套接字分配端口号的两种方法**

~~~
 第一种方法是创建一个UDP套件字时，传输层自动地为该套接字分配一个端口号
 第二种方法是在创建一个UDP套接字是，通过调用bind() 函数为该套接字绑定一个端口
~~~

### 传输层实现可靠传输的主要措施 
- 差错检测，利用差错编码实现数据传输过程中的比特差错检测
- 确认，即接收方想发送方反馈接收状态，确认是否正确接收数据
- 重传，即发送方重新发送接收方没有正确接收的数据
- 序号，即发送方对发送的数据包进行编号确保数据按序提交给接收方
- 计时器，在发送方引入计时器，解决数据丢失的问题

### TCP
拥塞是指主机（端系统）以太快的速度发送太多的数据，超出了网络的处理能力，导致大量数据分组 “拥挤” 在网络中间设备队列中进行排队等待转发，
网络能力显著下降

--- 

TCP 拥塞控制窗口的调节

**调整的策略：**
1. 在网络没有发送拥塞的情况下，增大拥塞窗口，提高发送速率
2. 在网络发送拥塞情况下，减小拥塞窗口，减少注入的数据量

~~~
拥塞窗口会设置一个threshold（窗口的最大值)，为了避免拥塞窗口增长过快，导致网络拥塞。
~~~


- 慢启动阶段
当拥塞窗口的值小于threshold 的值，则是慢启动过程。

每经过一个RTT（往返时间）{当拥塞窗口中的所有报文，全部发送并且被成功确认}
则增加一个 TCP 最大的长度字段  MSS 

当，收到3个重复的ACK 确认，则 将拥塞窗口的值 设置之前的一半，如果再次收到 3 个ack ，则再设置成之前的一半


- 拥塞避免阶段
当拥塞窗口的值等于 threshold 的值，则进入 拥塞避免阶段
减缓 拥塞窗口的增长。

每经过一个RTT（往返时间）{当拥塞窗口中的所有报文，全部发送并且被成功确认}
则加1 

- 快速重传


- 快速恢复


**路由算法**

- 链路状态路由选择算法 (OSPF)

- 距离向量路由选择算法 (RIP)





